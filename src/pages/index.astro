---
import MainLayout from '../layouts/MainLayout.astro';
import NavLink from '../components/NavLink.astro';
import IndexIntro from '../components/IndexIntro.astro';
---

<MainLayout title="Home">
  <IndexIntro />

  <header class="index-header">
    <div class="banner-wrapper">
      <img 
        src="/site-assets/banner.png" 
        alt="PNGU Banner"
        class="banner-image"
        loading="eager"
        decoding="sync"
      />
    </div>
    <div class="lite-switch-container">
      <a href="https://lite.pngu.info" class="lite-button">
        Switch to Lite Mode
      </a>
    </div>
  </header>

  <section class="content-box">
    <ul class="nav-list">
      <NavLink href="/files" title="3D Files" description="STL files for 3D printing" />
      <NavLink href="/data" title="Blaster Data" description="Performance spreadsheets & docs" />
      <NavLink href="/brand" title="Brand Assets" description="Logos, fonts, and branding" />
      <NavLink href="/contact" title="Contact" description="Email & Discord info" />
    </ul>
  </section>

  <div class="separator-small"></div>

  <section class="content-box">
    <h2>External Links</h2>
    <ul class="nav-list">
      <NavLink href="https://www.youtube.com/@PnguNerf" title="YouTube" external />
      <NavLink href="https://github.com/pngu-nerf" title="GitHub" external />
      <NavLink href="https://www.printables.com/@PnguNerf_3188348" title="Printables" external />
    </ul>
  </section>

  <div class="spacer-bottom"></div>
</MainLayout>

<style>
  /* Visibility handled by IndexIntro script */
  .index-header, .content-box, .separator-small {
    opacity: 1; 
    transition: opacity 0.5s ease;
  }

  .index-header { 
    width: 100%; 
    margin-bottom: 2.5rem; 
    position: relative;
    z-index: 10;
  }

  .banner-wrapper {
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 30px 10px 10px 10px;
  }
  
  .banner-image {
    width: 100%;
    max-width: 1200px; 
    height: auto;
    display: block;
    filter: drop-shadow(0 10px 15px rgba(0, 0, 0, 0.6));
    pointer-events: none;
  }

  /* Button Container & Styling */
  .lite-switch-container {
    display: flex;
    justify-content: center;
    margin-top: 0.5rem;
  }

  .lite-button {
    text-decoration: none;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: rgba(255, 255, 255, 0.4);
    padding: 8px 16px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(4px);
    transition: all 0.3s ease;
  }

  .lite-button:hover {
    color: rgba(255, 255, 255, 1);
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: translateY(-1px);
  }

  .separator-small { margin: 2rem 0; height: 1px; }
  .nav-list { list-style: none; padding: 0; margin: 0; }
  .spacer-bottom { height: 80px; }

  @media (max-width: 600px) {
    .banner-wrapper { padding: 20px 0 5px 0; }
    .banner-image { width: 90%; }
    .lite-button { font-size: 0.65rem; padding: 6px 12px; }
  }
</style>
