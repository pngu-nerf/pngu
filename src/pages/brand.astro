---
import MainLayout from '../layouts/MainLayout.astro';
import PageHeader from '../components/PageHeader.astro';
import FileItem from '../components/FileItem.astro';

// We'll keep this one as a local array since brand assets change less frequently,
// but we'll point the paths to R2.
const R2_BRAND_BASE = "https://assets.pngu.info/PNGU-Brand-Assets-main";

const assets = [
  { name: "Logo White (SVG)", path: "PNGU%20logo%20white.svg", type: "image" },
  { name: "Logo Black (SVG)", path: "PNGU%20logo%20black.svg", type: "image" },
  { name: "Profile Image", path: "Youtube%20Profile.png", type: "image" },
  { name: "Brand Youtube Banner", path: "Youtube%20Banner.jpg", type: "image" },
  { name: "Brand Font (OTF)", path: "Jump%20Winter.otf", type: "font" },
  { name: "Brand Font (TTF)", path: "Jump%20Winter.ttf", type: "font" }
];
---

<MainLayout title="Brand">
  <PageHeader title="Brand Assets" subtitle="Logos, Banners & Fonts" />

  <div class="content-box">
    <h2>Downloads</h2>
    <div class="file-list">
      {assets.map((asset) => {
        const fullUrl = `${R2_BRAND_BASE}/${asset.path}`;
        
        return (
          <FileItem 
            name={asset.name} 
            downloadUrl={fullUrl} 
            previewType={asset.type === 'image' ? 'image' : 'none'}
          >
            {asset.type === 'image' ? (
              <div class="preview-container">
                 <img src={fullUrl} alt={asset.name} loading="lazy" />
              </div>
            ) : (
              <div class="no-preview-box">
                 <p class="no-preview">Preview not available for font files.</p>
              </div>
            )}
          </FileItem>
        );
      })}
    </div>
  </div>
</MainLayout>

<style>
  /* Checkerboard transparency background */
  .preview-container {
    background-color: #111;
    background-image: 
      linear-gradient(45deg, #181818 25%, transparent 25%), 
      linear-gradient(-45deg, #181818 25%, transparent 25%), 
      linear-gradient(45deg, transparent 75%, #181818 75%), 
      linear-gradient(-45deg, transparent 75%, #181818 75%);
    background-size: 20px 20px;
    min-height: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 2rem;
    border-radius: 8px;
  }
  
  .preview-container img { 
    max-width: 100%; 
    max-height: 300px; 
    object-fit: contain; 
    filter: drop-shadow(0 5px 15px rgba(0,0,0,0.5));
  }

  .no-preview-box { 
    padding: 2rem; 
    text-align: center; 
    background: rgba(255,255,255,0.03);
    border-radius: 8px;
  }

  .no-preview { color: var(--text-muted); font-style: italic; font-size: 0.9rem; }
</style>
