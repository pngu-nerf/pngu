---
/* ScreenOverlay.astro - Static Debug Mode */
---

<div id="screen-overlay"></div>

<svg style="position: absolute; width: 0; height: 0;">
  <filter id="fuzz">
    <feGaussianBlur in="SourceGraphic" stdDeviation="8" />
  </filter>
</svg>

<style>
  #screen-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background-color: #000;
    pointer-events: none;
    
    /* The Mask */
    mask-image: url('/brand-assets/PNGU-logo-white.svg'), linear-gradient(#fff, #fff);
    -webkit-mask-image: url('/brand-assets/PNGU-logo-white.svg'), linear-gradient(#fff, #fff);
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
    mask-composite: exclude;
    -webkit-mask-composite: xor;

    /* STATIC POSITION SIZE */
    mask-size: 180px auto, 100% 100%;
    -webkit-mask-size: 180px auto, 100% 100%;

    filter: url(#fuzz);

    /* ANIMATION IS DISABLED FOR DEBUGGING */
    animation: none !important;
  }

  /* @keyframes linear-zoom { ... }
  @keyframes bg-fade { ... } 
  */
</style>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const overlay = document.getElementById('screen-overlay');
    const banner = document.querySelector('.banner-image');
    if (!overlay) return;

    // 1. BASE CALCULATIONS
    let startX = window.innerWidth / 2;
    let startY = window.innerHeight / 2;

    if (banner) {
      const rect = banner.getBoundingClientRect();
      startX = rect.left + rect.width / 2;
      startY = rect.top + rect.height / 2;
    }

    /* --- ADJUST THESE VALUES TO CENTER THE LOGO --- */
    const xShift = 60;  // Positive moves RIGHT, negative moves LEFT
    const yShift = 0;   // Positive moves DOWN, negative moves UP
    /* ---------------------------------------------- */

    const finalX = startX + xShift;
    const finalY = startY + yShift;

    // Apply the static position
    const posString = `${finalX}px ${finalY}px, center`;
    overlay.style.maskPosition = posString;
    overlay.style.webkitMaskPosition = posString;

    /* ANIMATION TRIGGER COMMENTED OUT FOR DEBUGGING
    requestAnimationFrame(() => {
        overlay.classList.add('zoom-active');
    });
    */
  });
</script>
