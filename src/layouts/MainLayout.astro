---
// src/layouts/MainLayout.astro
import BackgroundEffects from '../components/BackgroundEffects.astro';

interface Props {
	title: string;
	description?: string;
}

const { title, description = "PNGU - 3D Files, Blaster Data, and Brand Assets" } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content={description} />
		<title>{title} | PNGU</title>

		<style is:global>
			/* 1. THE ULTIMATE MOBILE FIX */
			/* We apply this to '*' (everything) to ensure that even divs and spans 
			   behaving as buttons (like your banner or custom links) don't flicker blue.
			*/
			* {
				-webkit-tap-highlight-color: transparent !important;
				-webkit-touch-callout: none; /* Prevents long-press menu on images/links if desired */
			}

			/* Removes the focus ring for mouse users, but keeps it for keyboard accessibility */
			:focus:not(:focus-visible) {
				outline: none !important;
			}

			/* 2. GLOBAL DESIGN TOKENS */
			:root {
				--bg-dark: #0f0f0f;
				--accent-white: #ffffff;
				--text-muted: #a0a0a0;
				--glass-bg: rgba(40, 40, 40, 0.4);
				--glass-border: rgba(255, 255, 255, 0.1);
				--glass-blur: blur(20px) saturate(120%);
				--transition-bounce: 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
			}

			/* 3. GLOBAL RESET */
			*, *::before, *::after {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			html {
				background-color: var(--bg-dark);
				scroll-behavior: smooth;
				-webkit-font-smoothing: antialiased;
			}

			body {
				font-family: sans-serif;
				color: var(--accent-white);
				line-height: 1.5;
				min-height: 100vh;
				padding: 2rem;
				max-width: 900px;
				margin: 0 auto;
			}

			/* 4. REUSABLE CLASSES */
			#bg-layer {
				position: fixed;
				inset: 0;
				background-color: var(--bg-dark);
				z-index: -2;
			}

			.content-box {
				background-color: var(--glass-bg);
				backdrop-filter: var(--glass-blur);
				-webkit-backdrop-filter: var(--glass-blur);
				border: 1px solid var(--glass-border);
				border-radius: 16px;
				padding: 2rem;
				width: 75%;
				margin: 2rem auto;
				box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
				transform: translateZ(0); 
				will-change: transform;
				transition: transform var(--transition-bounce), box-shadow var(--transition-bounce), border-color var(--transition-bounce);
			}

			.content-box:hover {
				transform: scale(1.015) translateY(-2px);
				box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.4);
				border-color: rgba(255, 255, 255, 0.2);
			}

			@media (max-width: 600px) {
				body { padding: 1rem; }
				.content-box { width: 100%; padding: 1.5rem; }
				h1 { font-size: 2rem !important; }
			}
		</style>
	</head>
	<body>
		<div id="bg-layer"></div>
		<BackgroundEffects />
		<slot />
	</body>
</html>
